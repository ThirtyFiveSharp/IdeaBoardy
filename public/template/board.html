<div id="board" class="clear-fix" ng-controller="BoardController">
    <div id="board-title" class="clear-fix" ng-switch on="board.mode">
        <div ng-switch-when="view">
            <dl class="board-info">
                <dd class="name"><span>{{board.name}}</span></dd>
                <dd class="description"><span>{{board.description}}</span></dd>
            </dl>
            <div class="command-bar">
                <input class="btn-3 btn-delete" type="button" value="Delete" ng-click="board.delete()" jq-ui="button"/>
                <input class="btn-3" type="button" value="Edit" ng-click="board.edit()" jq-ui="button"/>
                <input class="btn-3" type="button" value="+ 1 section" ng-click="addSection()" jq-ui="button"/>
            </div>
        </div>
        <div ng-switch-when="edit">
            <form name="editBoardForm" ng-controller="EditBoardController" ng-submit="save()">
                <dl class="board-info">
                    <dd class="name">
                        <input type="text" ng-model="editingBoard.name" required autofocus />
                        <span error-message></span>
                    </dd>
                    <dd class="description">
                        <input type="text" ng-model="editingBoard.description"/>
                    </dd>
                </dl>
                <div class="command-bar">
                    <input class="btn-3 btn-cancel" type="button" value="Cancel" ng-click="cancel()" jq-ui="button" />
                    <input class="btn-3 btn-ok" type="submit" value="Save" ng-disabled="!editBoardForm.$valid" jq-ui="button" />
                </div>
            </form>
        </div>
    </div>

    <ul class="section-list clear-fix">
        <li class="section section-{{$index % 5}}" ng-repeat="section in sections">
            <div class="section-title clear-fix" ng-switch on="section.mode">
                <div ng-switch-when="view">
                    <dl class="section-info">
                        <dd class="name"><span>{{section.name}}</span></dd>
                    </dl>
                    <div class="command-bar">
                        <input class="btn-2 btn-delete" type="button" value="Delete" ng-click="section.delete()"
                               jq-ui="button"/>
                        <input class="btn-2" type="button" value="Edit" ng-click="section.edit()"
                           ng-disabled="!section.editable" jq-ui="button"/>
                    </div>
                </div>
                <div ng-switch-when="edit">
                    <form name="editSectionForm" ng-controller="EditSectionController" ng-submit="save()">
                        <dl class="section-info">
                            <dd class="name">
                                <input class="name" type="text" ng-model="editingSection.name" required autofocus />
                                <!--<span error-message></span>-->
                            </dd>
                        </dl>
                        <div class="command-bar">
                            <input class="btn-2 btn-cancel" type="button" value="Cancel" ng-click="cancel()" jq-ui="button"/>
                            <input class="btn-2 btn-ok" type="submit" value="Save" ng-disabled="!editSectionForm.$valid" jq-ui="button"/>
                        </div>
                    </form>
                </div>
            </div>
            <ng-include src="'template/ideas.html'"/>
        </li>
    </ul>

    <ng-include src="'template/section-create.html'"></ng-include>
    <ng-include src="'template/board-delete.html'"></ng-include>
    <ng-include src="'template/section-delete.html'"></ng-include>
    <ng-include src="'template/idea-create.html'"></ng-include>
</div>

